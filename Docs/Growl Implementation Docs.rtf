{\rtf1\mac\ansicpg10000\cocoartf102
{\fonttbl\f0\fnil\fcharset77 Herculanum;\f1\fswiss\fcharset77 Helvetica;\f2\fswiss\fcharset77 Helvetica-Bold;
\f3\fmodern\fcharset77 Courier;\f4\ftech\fcharset2 Symbol;}
{\colortbl;\red255\green255\blue255;}
\margl1440\margr1440\vieww21540\viewh19040\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\qc

\f0\fs96 \cf0 \shad\shadx75\shady-75\shadr0\shado62 \shadc0 Growl!
\f1\fs40 \shad0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural

\fs24 \cf0 This document aims at laying out the view for the future we have for Growl, as well as the terminology we use in discussing it, and finally the process of writing an application that interfaces with Growl.\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural

\f2\b \cf0 1. Our vision for Growl
\f1\b0 \
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural
\cf0 Growl aims to be a central notification center for OS X. The end effect will be that users have a very customizable, very uniform notification window from multiple applications of their choosing. The biproduct of this is that Growl should be really easy for developers to implement as well. These are our two goals.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural
\cf0 \
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural
\cf0 Applications will register themselves with a central daemon (GrowlHelperApp), and will then post notifications to it. Growl will present to the user the information that was sent to it by the original application, in a customizable manner (via on-screen event windows, like the bubbles we have now, by speaking them ... eventually, anything should be possible, including displaying notifications on a remote machine). \
\
Once a Growl application registers with Growl, giving it a list of all notifications that it sends out, users will be able to view this list in the Growl preference pane, and select the behavior for different types of notifications, whether they wish to see them or not.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural
\cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural

\f2\b \cf0 2. Licensing
\f1\b0 \
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural
\cf0 Growl is meant to make the life of both the developer and user easier. We\'d5ve licensed Growl as BSD as such. Testing applications and examples are public domain, unless otherwise specified, do with them as you wish. You can include Growl with your GPL app distribution even, so long as you don\'d5t combine Growl and GPL code. Due to the nature of how Growl works, the license does not matter, as Growl will be recieving notifications from a separate app.\
\
The Growl App Bridge framework is public domain.\
\
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural

\f2\b \cf0 4. Growl Terminology\
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural
\cf0 -
\f1\b0  
\f2\b All Notifications
\f1\b0 \
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi1440\ql\qnatural
\cf0 Growl maintains a list of all the notifications that each application supports.\
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f2\b \cf0 - Default Notifications\
\pard\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li1440\ql\qnatural

\f1\b0 \cf0 This is the list of notifications that are enabled by default for an application. This list is maintained persistently, and separately from the list of allowed notifications.\
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f2\b \cf0 - Allowed Notifications
\f1\b0 \
\pard\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li1440\ql\qnatural
\cf0 This is the list of all notifications that are actually enabled for an individual application. This will eventually be user-customizable in the preference pane. \
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f2\b \cf0 - \'d2Use Default\'d3\
\pard\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li1440\ql\qnatural

\f1\b0 \cf0 This is an internal flag within Growl stored for applications. If it is set, it means that the application should keep the Allowed Notification list synced to the Default list, and that it does not reflect any custom preferences.\
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f2\b \cf0 - Notification Name
\f1\b0 \
\pard\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li1440\ql\qnatural
\cf0 This is a name for the notification. Specific notifications are identified by App Name/Note name pairs, so don't worry about making it unique. Notifications will be identified by this in the Growl System preference pane.\
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f2\b \cf0 - Notification Title\
- Notification Description\
\pard\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li1440\ql\qnatural

\f1\b0 \cf0 These are the user-visible components of each notification, which will actually be displayed by the active notification plugin when an application sends Growl a notification.\
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li1080\fi-360\ql\qnatural
\cf0 \
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural

\f2\b \cf0 3. Coding for Growl\
\pard\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f1\b0 \cf0 All communication with Growl by client applications takes place through 
\f3 NSDistributedNotificationCenter
\f1 , using keys and notifications defined in 
\f3 GrowlDefines.h
\f1 . \
Note that there is (currently) no Growl 
\f4 \'ae
\f1  Client communication. This should change shortly.\
When a Growl-enabled application launches, it should post a notification named 
\f3 GROWL_APP_REGISTRATION
\f1 , with a userInfo dictionary with the following key 
\f4 \'de
\f1  value pairs:\
\
\pard\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li5400\fi-4680\ql\qnatural

\f3 \cf0 GROWL_APP_NAME
\fs20 	
\f1\fs24 The name of the application registering itself\

\f3 GROWL_NOTIFICATIONS_ALL
\fs20 	
\f1\fs24 An 
\f3 NSArray *
\f1  of the names of all the notifications the application will send out.\

\f3 GROWL_NOTIFICATIONS_DEFAULT
\fs20 	
\f1\fs24 An 
\f3 NSArray *
\f1  of the subset of the notifications specified in 
\f3 GROWL_NOTIFICATIONS_ALL
\fs20  
\f1\fs24 that should be enabled to be displayed by default.\

\f3 GROWL_APP_ICON
\fs20 	
\f1\fs24 Optionally, image (e.g. TIFF or PNG) data of a default icon to be used for the application's notifications.\
\
\pard\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural
\cf0 When an application registers with Growl, if it does not provide an icon, Growl will retrieve the icon for the application named in the registration request, using NSWorkspace. If possible, it is preferable to provide an icon, as looking up the icon using NSWorkspace can cause Growl to hang searching for it (This will hopefully be addressed in the future).\
Once an application has registered with Growl, it can proceed to send out event notifications to Growl, to be (possibly, dependent on preferences) displayed. This event should be sent in the form of a notification through 
\f3 NSDistributedNotificationCenter
\f1 . The name of the notification should be 
\f3 GROWL_NOTIFICATION
\f1 , and its 
\f3 userInfo
\f1  dictionary should contain the following key 
\f4 \'de
\f1  value pairs:\
\
\pard\tx5400\tx6480\tx7200\tx7920\tx8640\li5760\fi-5040\ql\qnatural

\f3 \cf0 GROWL_APP_NAME
\fs20 	
\f1\fs24 The name of the application sending the notification. This should be the same name used in registering the app.\

\f3 GROWL_NOTIFICATION_NAME	
\f1 The name of the notification - this should be one of the names you gave Growl when you registered.\
\pard\tx5400\tx6480\tx7200\tx7920\tx8640\li5760\fi-5040\ql\qnatural

\f3 \cf0 \CocoaLigature0 GROWL_NOTIFICATION_TITLE
\fs20 	
\f1\fs24 The title of the notification.\

\f3 GROWL_NOTIFICATION_DESCRIPTION
\fs20 	
\f1\fs24 The description for the notification.\

\f3 GROWL_NOTIFICATION_ICON
\fs20 	
\f1\fs24 Optionally (a default will be found as specified above if this is nil or not present), an 
\f3 NSData *
\f1  containing image data of an icon associated with the notification.\
	If you wish the notification to have no icon, supply an empty 
\f3 NSData *
\f1  (e.g. 
\f3 [NSData data]
\f1 ).\

\f3 GROWL_NOTIFICATION_STICKY	
\f1 Optionally, a NSNumber containing a bool for whether the notification should be "sticky", i.e. remain until closed instead of fading out after a given time.\
\pard\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural
\cf0 \
That\'d5s all there is to it. \
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural
\cf0 \
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural

\f2\b \cf0 4. Growl and Carbon\
\pard\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f1\b0 \cf0 The above description is for Cocoa, but you can use Growl from Carbon as well.\
\
\pard\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f2\b \cf0 Cocoa term	Carbon equivalent\
\pard\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f3\b0 \cf0 NSDistributedNotificationCenter	CFNotificationCenter\
\pard\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li1440\ql\qnatural

\f1 \cf0 Use 
\f3 \CocoaLigature1 CFNotificationCenterGetDistributedCenter()
\f1 .\
\pard\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f3 \cf0 NSArray	CFArray\
NSData	CFData\
\pard\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\li1440\ql\qnatural

\f1 \cf0 Core Foundation doesn\'d5t offer a direct equivalent to 
\f3 [NSData data]
\f1 ; you can use 
\f3 CFDataCreateWithBytesNoCopy(allocator, NULL, 0, NULL)
\f1 , or 
\f3 CFDataCreateMutable(allocator, 0)
\f1 .\
\pard\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f3 \cf0 \CocoaLigature0 GrowlDefines.h	GrowlDefinesCarbon.h\
\pard\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f2\b \cf0 \
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural
\cf0 5. GrowlAppBridge.framework\
\pard\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f1\b0 \cf0 This framework enables you to easily launch the GrowlHelperApp programmatically, using a single message (Cocoa) or function call (Carbon). In the future, it may also provide an API for testing whether Growl is installed and/or running. The header files provide further details.\
As an alternative to linking normally against the framework, Carbon apps can weak\'d0link against it using the 
\f3 -weak_framework
\f1  option. Rather than adding the framework to your target, add \'d2
\f3 -weak_framework GrowlAppBridge
\f1 \'d3 to your target\'d5s Other Linker Flags (in the Build tab of Xcode\'d5s Target Info window).
\f2\b \
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural
\cf0 \
6.Examples\
\pard\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\fi720\ql\qnatural

\f1\b0 \cf0 Growl comes with a number of example applications, located in the Examples directory in the Growl source tree. They demonstrate how to implement Growl support in Carbon or Cocoa, in Aqua or the command\'d0line.}